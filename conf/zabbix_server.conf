# Autor: Robson Vaamonde
# Site: www.procedimentosemti.com.br
# Facebook: facebook.com/ProcedimentosEmTI
# Facebook: facebook.com/BoraParaPratica
# YouTube: youtube.com/BoraParaPratica
# Linkedin: https://www.linkedin.com/in/robson-vaamonde-0b029028/
# Instagram: https://www.instagram.com/procedimentoem/?hl=pt-br
# Data de criação: 05/01/2026
# Data de atualização: 06/01/2026
# Versão: 0.02
# Testado e homologado para a versão do Ubuntu Server 22.04.x LTS x64x
# Testado e homologado para a versão do Zabbix Server v7.4.x
#
# Configurando o serviço do Zabbix Server
#
# ======== BLOCO DE CONFIGURAÇÃO DA REDE ========
#
# Porta TCP onde o Zabbix Server escuta conexões
ListenPort=10051
#
# IP de origem usado pelo Zabbix Server para conexões de saída
SourceIP=172.16.1.20
#
# ======== BLOCO DE CONFIGURAÇÃO DOS LOGS ========
#
# Tipo de log (file = arquivo)
LogType=file
#
# Caminho do arquivo de log do Zabbix Server
LogFile=/var/log/zabbix/zabbix_server.log
#
# Tamanho máximo do log em MB antes de rotacionar = 1MB
LogFileSize=1
#
# Nível de debug do log
# 0 = normal | 3 = debug médio | 5 = debug máximo
DebugLevel=3
#
# ======== BLOCO DE CONFIGURAÇÃO PROCESSO ========
#
# Arquivo PID do processo do Zabbix Server
PidFile=/var/run/zabbix/zabbix_server.pid
#
# ======== BLOCO DE CONFIGURAÇÃO DO BANCO DE DADOS ========
#
# Endereço do servidor de banco de dados MySQL Server
DBHost=localhost
#
# Nome do banco de dados do Zabbix Server no MySQL Server
DBName=zabbix
#
# Usuário do banco de dados do Zabbix Server no MySQL Server
DBUser=zabbix
#
# Senha do usuário do banco do Zabbix Server no MySQL Server
DBPassword=zabbix
#
# ======== BLOCO DE CONFIGURAÇÃO CONSULTAS LENTAS SQL ========
#
# Registra no log consultas SQL mais lentas que o valor (em ms)
LogSlowQueries=3000
#
# ======== BLOCO DE CONFIGURAÇÃO DO TEMPO DE EXECUÇÃO ========
#
# Tempo máximo (em segundos) para execução de checks e scripts
Timeout=4
#
# ======== BLOCO DE CONFIGURAÇÃO DOS POLLERS ========
#
# Número de pollers (coleta de dados) -  PME típico: 5 a 10
StartPollers=5
#
# Processos que recebem dados enviados por agentes/proxies
StartTrappers=5
#
# Processos responsáveis por ICMP Ping
StartPingers=3
#
# ======== BLOCO DE CONFIGURAÇÃO DO DESEMPENHO DE CACHE ========
#
# Cache da configuração carregada do banco
CacheSize=128M
#
# Cache de histórico (dados recentes)
HistoryCacheSize=64M
#
# Cache de tendências (dados consolidados)
TrendCacheSize=32M
#
# ======== BLOCO DE CONFIGURAÇÃO DOS PINGS ========
#
# Caminho do comando fping (IPv4)
FpingLocation=/usr/bin/fping
#
# Caminho do comando fping para IPv6
Fping6Location=/usr/bin/fping6
#
# ======== BLOCO DE CONFIGURAÇÃO DAS ESTATÍSTICAS ========
#
# IPs ou redes autorizadas a consultar estatísticas internas
StatsAllowedIP=127.0.0.1,172.16.1.0/24
#
# ======== BLOCO DE CONFIGURAÇÃO DOS ALERTAS ========
#
# Diretório de scripts de alerta personalizados
AlertScriptsPath=/etc/zabbix/alert.d/
#
# ======== BLOCO DE CONFIGURAÇÃO DOS ARQUIVOS EXTRAS ========
#
# Permite dividir a configuração em vários arquivos
Include=/etc/zabbix/zabbix_server.d/*.conf