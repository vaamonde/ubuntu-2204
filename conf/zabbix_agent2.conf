# Autor: Robson Vaamonde
# Site: www.procedimentosemti.com.br
# Facebook: facebook.com/ProcedimentosEmTI
# Facebook: facebook.com/BoraParaPratica
# YouTube: youtube.com/BoraParaPratica
# Linkedin: https://www.linkedin.com/in/robson-vaamonde-0b029028/
# Instagram: https://www.instagram.com/procedimentoem/?hl=pt-br
# Data de criação: 05/01/2026
# Data de atualização: 06/01/2026
# Versão: 0.02
# Testado e homologado para a versão do Ubuntu Server 22.04.x LTS x64x
# Testado e homologado para a versão do Zabbix Agent2 v7.4.x
#
# Configurando o serviço do Zabbix Agent2
#
# ======== BLOCO DE CONFIGURAÇÃO DA REDE ========
#
# IP onde o agente irá escutar conexões do Zabbix Server
ListenIP=172.16.1.20
#
# Porta TCP onde o Zabbix Agent2 escuta
ListenPort=10050
#
# ======== BLOCO DE CONFIGURAÇÃO DOS LOGS ========
#
# Tipo de log (file = arquivo)
LogType=file
#
# Caminho do arquivo de log do Zabbix Agent2
LogFile=/var/log/zabbix/zabbix_agent2.log
#
# Tamanho máximo do log em MB antes da rotação = 1MB
LogFileSize=1
#
# Nível de debug do log
# 0 = normal | 3 = debug médio | 5 = debug máximo
#
DebugLevel=3
#
# ======== BLOCO DE CONFIGURAÇÃO DO PROCESSO ========
#
# Arquivo PID do processo do Zabbix Agent2
PidFile=/var/run/zabbix/zabbix_agent2.pid
#
# ======== BLOCO DE CONFIGURAÇÃO DOS SERVIDORES ========
#
# IP ou hostname do Zabbix Server autorizado a consultar o agente
Server=172.16.1.20
#
# IP ou hostname do Zabbix Server para checks ativos
ServerActive=172.16.1.20
#
# ======== BLOCO DE CONFIGURAÇÃO DO HOST ========
#
# Nome do host exatamente igual ao cadastrado no Frontend do Zabbix
Hostname=wsvaamonde
#
#O nome do host é obtido automaticamente do sistema.
HostnameItem=system.hostname
#
# Intervalo (em segundos) para atualizar a lista de checks ativos
RefreshActiveChecks=5
#
# ======== BLOCO DE CONFIGURAÇÃO DO SOCKET ========
#
# Socket usado pelos plugins do Agent2
PluginSocket=/var/run/zabbix/agent.plugin.sock
#
# Socket de controle do Zabbix Agent2
ControlSocket=/var/run/zabbix/agent.sock
#
# ======== BLOCO DE CONFIGURAÇÃO DOS ARQUIVOS EXTRAS ========
#
# Arquivos de configuração específicos dos plugins
Include=/etc/zabbix/zabbix_agent2.d/plugins.d/*.conf
#
# Arquivos adicionais de configuração customizada
Include=/etc/zabbix/zabbix_agent2.d/*.conf